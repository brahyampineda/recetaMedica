<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="./resources/css/default.css" rel="stylesheet" type="text/css" />
        <link href="./resources/css/cssLayout.css" rel="stylesheet" type="text/css" />
        <link href="./resources/css/cssPlantilla.css" rel="stylesheet" type="text/css" />
        <title>..:: <ui:insert name="titulo">Tu receta Médica</ui:insert> ::..</title>
    </h:head>

    <h:body>
        <div id="divCabecera">
            <div id="divEnlaces">
                <div id="divImagenes" style="float: left ; width: 90%">
                    <a href="../faces/index.xhtml" title="Ir a inicio">
                        <p:graphicImage id="imgLogo" height="80px" style="margin: 5px 2px"
                                        value="/resources/imagenes/logo.jpg"/>
                    </a>
                    <p:spacer width="2%"/>
                    <a href="http://www.google.com" title="Ir a algún lado">
                        <p:graphicImage id="imgColombia" height="80px" style="margin: 5px 2px"
                                        value="/resources/imagenes/escudo_colombia.jpeg" />
                    </a>
                    <p:spacer width="2%"/>
                    <a href="http://www.utp.edu.co" title="Ir al portal de la Universidad Tecnológica de Pereira">
                        <p:graphicImage id="imgUTP" height="80px" style="margin: 5px 2px"
                                        value="/resources/imagenes/utp.jpg"/>
                    </a>
                    <h1 style="margin-top: 30px ; float: right ; color: white">TU RECETA MÉDICA</h1>
                </div>
                <div id="divIdioma" style="float: right ; width: 5%">
                    <p:outputLabel value="Idioma" style="float: right; color: white"/>
                    <p:graphicImage title="Español" id="imgEspañol" width="30px" height="15px" style="float: right ; margin: 5px 2px"
                                    value="http://www.keltibur.com/rdn/images/products/mini/sinescudogigante.jpg"/>
                    <p:graphicImage title="Inglés" id="imgIngles" width="30px" height="15px" style="float: right ; margin: 5px 2px"
                                    value="http://img4.wikia.nocookie.net/__cb20100107225030/doblaje/es/images/archive/1/12/20130806060226!Bandera_Estados_Unidos.png"/>
                </div>
            </div>
            <div id="divLogin" align="right">
                <h:form id="formBtnLogin">
                    <p:panel >
                        <h:panelGrid columns="1" style="margin: 0 auto; width: 100%">
                            <ui:insert name="login" >
                                <p:commandButton value="Iniciar sesión" style="width: 90% ; margin: 0 auto ; float: right"
                                                 onclick="PF('dlgLogin').show();"/>
                                <p:commandButton value="Registrarse" style="width: 90% ; margin: 0 auto ; float: right"
                                                 action="#{beanGeneral.prepararRegistroUsuario()}"
                                                 onclick="PF('dlgRegistro').show();"
                                                 update=":formRegistroUsuario:panelRegistroUsuario"/>
                            </ui:insert>
                        </h:panelGrid>
                    </p:panel>
                </h:form>
                <p:dialog header="INICIO DE SESIÓN" widgetVar="dlgLogin" 
                          modal="true" width="40%" resizable="false">
                    <h:form id="formInicioSesion">
                        <h:panelGrid id="panelInicioSesion" columns="2" columnClasses="derechaNegrita, izquierda" styleClass="stylePanelGrid">
                            <p:outputLabel value="Correo:"/>
                            <p:inputText  style="width: 80%"
                                          validatorMessage="No es un correo válido.">
                                <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                            </p:inputText>
                            <p:outputLabel value="Contraseña:"/>
                            <p:password style="width: 80%"/>
                            <p:spacer />
                            <p:commandLink value="Olvidó su contraseña" />
                            <p:spacer />
                            <p:commandButton value="Iniciar sesión" action="#{loginBean.doLogin()}"/>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>
                <p:dialog header="REGISTRO DE NUEVO USUARIO" widgetVar="dlgRegistro" 
                          modal="true" width="40%" resizable="false">
                    <h:form id="formRegistroUsuario">
                        <h:panelGrid id="panelRegistroUsuario" columns="2" columnClasses="derechaNegrita, izquierda" styleClass="stylePanelGrid">
                            <p:outputLabel value="Nombre:"/>
                            <p:inputText value="#{beanGeneral.usuarioActual.nombre}" styleClass="styleInputText2"
                                         required="true" requiredMessage="Escriba su nombre"
                                         validatorMessage="El nombre sólo debe tener letras">
                                <f:validateRegex pattern="[a-zA-Z\s]{1,45}" />
                            </p:inputText>

                            <p:outputLabel value="Apellidos:"/>
                            <p:inputText value="#{beanGeneral.usuarioActual.apellidos}" styleClass="styleInputText2"
                                         required="true" requiredMessage="Escriba sus apellidos"
                                         validatorMessage="El apellido sólo debe tener letras">
                                <f:validateRegex pattern="[a-zA-Z\s]{1,45}" />
                            </p:inputText>

                            <p:outputLabel value="Número de identificacion:"></p:outputLabel>
                            <p:inputText value="#{beanGeneral.usuarioActual.identificacion}" styleClass="styleInputText2"
                                         required="true" requiredMessage="Escriba su identificación"
                                         validatorMessage="La identificación sólo debe tener números">
                                <f:validateRegex pattern="\d{1,20}" />
                            </p:inputText>

                            <p:outputLabel value="Correo electrónico:"/>
                            <p:inputText value="#{beanGeneral.usuarioActual.email}" styleClass="styleInputText2"
                                         required="true" requiredMessage="Debe especificar su correo" placeholder="correo@ejemplo.com"
                                         validatorMessage="No es un correo válido.">
                                <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                            </p:inputText>

                            <p:outputLabel value="Perfiles:"/>
                            <h:panelGrid columns="2">
                                <p:selectManyCheckbox value="#{beanGeneral.perfiles}" styleClass="styleInputText2">
                                    <f:selectItem itemLabel="Médico general" itemValue="Medico general" />
                                    <f:selectItem itemLabel="Médico especialista" itemValue="Medico especialista" />
                                    <f:selectItem itemLabel="Paciente" itemValue="Paciente" />
                                </p:selectManyCheckbox>
                            </h:panelGrid>
                            <p:spacer />
                            <p:commandButton value="Solicitar registro" actionListener="#{beanGeneral.solicitarRegistroUsuario()}"
                                             update="panelRegistroUsuario"/>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>
            </div>
        </div>
        <div id="divContenido" >
            <p:growl showDetail="true"/>
            <h:form>
                <ui:insert name="menu" >
                    <p:tabMenu activeIndex="#{param.i}" >
                        <p:menuitem value="Inicio" outcome="/index">
                            <f:param name="i" value="0" />
                        </p:menuitem>
                        <p:menuitem value="Contacto" outcome="/contacto">
                            <f:param name="i" value="1" />
                        </p:menuitem>
                        <p:menuitem value="Listas" outcome="/listas">
                            <f:param name="i" value="2" />
                        </p:menuitem>
                    </p:tabMenu>
                </ui:insert>
            </h:form>

            <ui:insert name="contenido" >
                <p:panel  style="width: 99.5%">
                    <p:graphicImage id="imgLogoInicio" height="200px" style="margin: 5px 2px ; float: right ; padding: 2em"
                                    value="/resources/imagenes/logo.jpg"/> 
                    <p>
                        Esta página web te ayuda a estar al tanto de lo que pasa con tus recetas médicas, además de poder ver las listas de 
                        médicos que hay disponibles, incluso listas de medicamentos POS, tratamientos y leyes que rigen la salud en Colombia.
                    </p>
                    <p>
                        Puede generar recordatorios para estar al tanto de los horarios para tomar tus medicamentos y también para saber en que
                        momento se te están acabando las dosis y así poder comprar tus medicamentos en linea desde está página.
                    </p>
                </p:panel>
                <h:form>
                    <p:commandButton value="Administrador" action="administrador/perfil" 
                                     ajax="false" immediate="true"/>
                    <p:commandButton value="Paciente" action="paciente/perfil" 
                                     ajax="false" immediate="true"/>
                    <p:commandButton value="Médico general" action="medicoGeneral/perfil" 
                                     ajax="false" immediate="true"/>
                    <p:commandButton value="Médico especialista" action="medicoEspecialista/perfil" 
                                     ajax="false" immediate="true"/>
                </h:form>
            </ui:insert>
        </div>
        <div id="divFooter" >
            <p:outputLabel value="by BPC, ESR, JHRM, SBO" style="float: right"/>
        </div>
    </h:body>

</html>
