<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="./index.xhtml">

        <ui:define name="titulo">
            Consultas
        </ui:define>

        <ui:define name="imgindex">
            <a href="../faces/perfilPaciente.xhtml" title="Ir a perfil">
                <p:graphicImage id="imgLogo" height="60em" style="margin: 5px 2px"
                                value="/resources/imagenes/iconos/logo-web.jpg"/>
            </a>
        </ui:define>

        <ui:define name="contenido">
            <h:form id="formConsulta" >
                <p:panel>
                    <p:dataTable id="tablaHistorial" >
                        <p:column headerText="Identificación" >
                            <p:outputLabel value="" />
                        </p:column>
                        <p:column headerText="Nombre" >
                            <p:outputLabel value="" />
                        </p:column>
                        <p:column headerText="Apellidos" >
                            <p:outputLabel value="" />
                        </p:column>
                        <p:rowExpansion>
                            <p:panel id="panelHistorial" header="Consulta">
                                <h:panelGrid id="detalleConsulta" rendered="true" 
                                             columns="4" columnClasses="derechaNegrita, izquierda, derechaNegrita, izquierda" 
                                             styleClass="stylePanelGrid">

                                    <p:outputLabel value="Médico: " styleClass="styleInputText2" />
                                    <p:outputLabel value="#{loginBean.loggedUser.nombre} #{loginBean.loggedUser.apellidos}" styleClass="styleInputText2" />

                                    <p:outputLabel value="Paciente:" styleClass="styleInputText2"/>
                                    <p:outputLabel value="" styleClass="styleInputText2"/>

                                    <p:outputLabel value="Peso actual (Kg):" styleClass="styleInputText2"/>
                                    <p:outputLabel value="" styleClass="styleInputText2"/>

                                    <p:outputLabel value="Estatura actual (cm):" styleClass="styleInputText2"/>
                                    <p:outputLabel value="" styleClass="styleInputText2"/>

                                    <p:outputLabel value="Deportes que practica:" styleClass="styleInputText2"/>
                                    <p:outputLabel value="" styleClass="styleInputText2"/>

                                </h:panelGrid>

                                <p:dataTable id="tablaRecetas" emptyMessage="No hay recetas." >
                                    <f:facet name="header" >Recetas</f:facet>
                                    <p:column headerText="Medicamento" >
                                        <p:outputLabel value="" />
                                    </p:column>
                                    <p:column headerText="Dosis" >
                                        <p:outputLabel value="" />
                                    </p:column>
                                    <p:column headerText="Periodicidad (por día)" >
                                        <p:outputLabel value="" />
                                    </p:column>
                                    <p:column headerText="Fecha Inicio" >
                                        <p:outputLabel value="" >
                                            <f:convertDateTime type="both" pattern="d MMM yyyy" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="Edición" style="width: 7%">
                                        <p:commandButton icon="ui-icon-pencil" 
                                                         onclick="PF('dlgEdicionEnfermedad').show();"
                                                         update=":tabsConsultas:formNueva:panelReceta"/>
                                        <p:commandButton icon="ui-icon-trash" 
                                                         update="tablaRecetas" />
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                            <br/>
                            <div align="right" >
                                <p:commandButton value="Imprimir" icon="ui-icon-print">
                                    <p:printer target="panelHistorial" />
                                </p:commandButton>
                            </div>
                        </p:rowExpansion>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </ui:define>

    </ui:composition>
</html>
